<ion-content>
  <div class="row">
    <div class="col">
      <p>We just sent a 6 digit code to {{user.username}}.
        Enter that code below along with a new password to continue.</p>
      <form name="validateforgot_form" class="">
        <div class="list">
          <label [formGroup]="changePasswordForm"  class="item item-input item-margin">
            <input type="text" pattern="[0-9]*" formControlName="code" placeholder="6 Digit Code" name="data_vcode" required>
          </label>
        </div>
        <p>Password can include letters, numbers and dashes, but must be at least 8 characters long</p>
        <div class="list">
          <label [formGroup]="changePasswordForm"  class="item item-input item-margin">
            <input type="password" formControlName="newPassword"  placeholder="New Password" name="data_newpw" required>
          </label>
        </div>
        <div class="list">
          <label [formGroup]="changePasswordForm"  class="item item-input item-margin">
            <input type="password" formControlName="confirmedPassword"  placeholder="New Password Again" name="data_newpwagain" required>
          </label>
        </div>
        <div class="">
          <button type="submit" class="button button-positive button-block" (click)="doChangePassword()" 
            [disabled]= "(code.invalid || newPassword.invalid || confirmedPassword.invalid || 
                        newPassword.value !== confirmedPassword.value)">
            Change Password
          </button>
        </div>
        <div class="">
          <button type="button" class="button button-calm button-block" (click)="closeChangePasswordModal()" >
            Cancel
          </button>
        </div>
      </form>
    </div>
  </div>
</ion-content>